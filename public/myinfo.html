<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Thinking Potato : Setting</title>
        <link rel="icon" href="/public/img/logo.png" type="image/png">
        <!-- Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Walter+Turncoat&display=swap" rel="stylesheet">
        <!--CSS-->
        <link rel="stylesheet" href="/src/styles/myinfo.css">
        <!-- jQuery -->
         <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
         <!-- js -->
          <script src="../src/navigation.js"></script>
    </head>
<body>

    <!--Title-->
    <div class="header-container">
        <h1 id="Title">My Account</h1>
    </div>

    <div class="tabs">
        <button class="tab-button active" onclick="openTab('general')">General</button>
        <button class="tab-button" onclick="openTab('security')">Security</button>
    </div>
    
    <div id="general" class="tab-content active">
        <div class="profile-section">
            <div class="profile-photo-container" onclick="openPhotoModal()">
                <img id="profile-photo" src="/public/img/profile/blushpotato.png" alt="Profile Photo" class="profile-photo">
                <div class="profile-overlay">
                    <span>Change Photo</span>
                </div>
            </div>
        </div>
        
        
        <div class="info-section">
            <label>Email:
            <input type="email" id="email" disabled> </label> 
        
            <label>First Name: 
                <input type="text" id="first-name" readonly onclick="enableEditing('first-name')">
            </label>
        
            <label>Last Name: 
                <input type="text" id="last-name" readonly onclick="enableEditing('last-name')">
            </label>
        
            <label>What math level are you in? 
                <input type="text" id="math-level" readonly onclick="enableEditing('math-level')">
            </label>

            <div class="button-container">
                <button onclick="saveUserInfo()">Save Changes</button> 
            </div>

        </div>
        
        
        
    </div>
    
    <div id="security" class="tab-content">
        <div class="security-section">
            <label>Current Password:
            <input type="password" id="current-password">
            <span id="current-password-error" class="error-message"></span> 
            <button onclick="verifyCurrentPassword()">Verify</button> </label>

            <br></br>
            <label>New Password:
            <input type="password" id="new-password" disabled> </label>
            <span id="new-password-error" class="error-message"></span>
    
            <label>Confirm New Password:
            <input type="password" id="confirm-password" disabled> </label>
            <span id="confirm-password-error" class="error-message"></span>
            
            <div class="button-container">
                <button onclick="changePassword()" disabled id="change-password-btn">Change Password</button>
            </div>

        </div>
    </div>
    
    
</div>

<div id="photo-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closePhotoModal()">&times;</span>
        <h3>Select Profile Picture</h3>
        <div class="photo-options">
            <img src="/public/img/profile/blushpotato.png" onclick="updateProfilePhoto('/public/img/profile/blushpotato.png')">
            <img src="/public/img/profile/glasspotato.png" onclick="updateProfilePhoto('/public/img/profile/glasspotato.png')">
            <img src="/public/img/profile/happypotato.png" onclick="updateProfilePhoto('/public/img/profile/happypotato.png')">
            <img src="/public/img/profile/sweatpotato.png" onclick="updateProfilePhoto('/public/img/profile/sweatpotato.png')">
            <img src="/public/img/profile/justpotato.png" onclick="updateProfilePhoto('/public/img/profile/justpotato.png')">
            <img src="/public/img/profile/surprisedpotato.png" onclick="updateProfilePhoto('/public/img/profile/surprisedpotato.png')">
        </div>
    </div>
</div>

<script src="/src/myinfo.js"></script>
    
</body>
</html>